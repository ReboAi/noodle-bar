<!DOCTYPE html>
<html lang="en">
<head>
    <!--REQUIRED META TAGS-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--FONT AWESOME CDN-->
    <script src="https://kit.fontawesome.com/e8778a5f5d.js" crossorigin="anonymous"></script>
    
    <!--BOOTSTRAP CDN-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" 
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    
    <!--CUSTOM CSS-->
    <link rel="stylesheet" href="style_games.css">
    
    <!--GOOGLE FONT-->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&display=swap" rel="stylesheet">

    <!--ANIMATE ON SCROLL LIBRARY-->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">
    
    <!--LOGO AND TITLE IN THE BOWSER TAB-->
    <link rel="shortcut icon" type="image" href="images/noodle logo white.png">
    <title>Games</title>
</head>

<body>
    <!--START OF NAVBAR-->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark fixed-top">
        <!--LOGO IN NAVBAR-->
        <div class="container">
            <a href="index.html" class="navbar-brand"><img src="images/noodle logo white.png" alt="Logo"><strong>The Noodle Bar</strong></a>

            <!--HAMBURGER MENU-->
            <button 
                class="navbar-toggler" 
                type="button" 
                data-toggle="collapse" 
                data-target="#navmenu"      
                >
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!--NAVBAR ITEMS-->
            <div class="collapse navbar-collapse" id="navmenu">  <!--Hamburger menu targets this div through id-->
                <ul class="navbar-nav ml-auto nav-fill w-100">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="menu.html" class="nav-link">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a href="about_us.html" class="nav-link">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a href="media.html" class="nav-link">Media</a>
                    </li>
                    <li class="nav-item">
                        <a href="games.html" class="nav-link active">Games</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" 
                        role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Connect</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="login.html">Login</a>
                            <a class="dropdown-item" href="https://www.facebook.com/" target="_blank">Facebook</a>
                            <a class="dropdown-item" href="https://web.whatsapp.com/" target="_blank">Whatsapp</a>
                            <a class="dropdown-item" href="https://www.instagram.com/" target="_blank">Instagram</a>
                        </div>
                </ul>

                <!--SEARCH BAR-->
                <form class="form-inline">
                    <div class="input-group">
                        <input type="search" class="form-control" placeholder="Search here" aria-label="Search">
                        <div class="input-group-append">
                            <button type="submit" class="btn btn-light">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>    
        </div>
    </nav>
    <!--END OF NAVBAR-->

    <!--START OF SOCIAL SIDEBAR-->
    <div class="container">
        <div class="buttons-sidebar">
            <ul class="navbar-nav">
                <li class="nav-link">
                    <a href="https://www.facebook.com/" target="_blank"><span class="icon"><i class="fa-brands fa-square-facebook"></i></span></a>
                </li>
                <li class="nav-link">
                    <a href="https://web.whatsapp.com/" target="_blank"><span class="icon"><i class="fa-brands fa-whatsapp"></i></span></a>
                </li>
                <li class="nav-link">
                    <a href="https://www.instagram.com/" target="_blank"><span class="icon"><i class="fa-brands fa-instagram"></i></span></a>
                </li>
            </ul>
        </div>
    </div>
    <!--END OF SOCIAL SIDEBAR-->


    <!--START OF GAMES-->
    <section id="games">
    <div class="container">
        <div class="title">
            <h1>WELCOME TO OUR HANGMAN QUIZ</h1>
            <p>While you're waiting for your order, sit back, relax and guess a few words. <br>
            Your order will arrive at you soon!</p>
            <div class="heading-underline"></div>
        </div>
    </div>
    </section>

    <div class="container-md">
        <div id="options-container"></div>
        <div id="letter-container" class="letter-container hide"></div>
        <div id="user-input-section"></div>
        <canvas id="canvas"></canvas>
        <div id="new-game-container" class="new-game-popup hide">
          <div id="result-text"></div>
          <button id="new-game-button">New Game</button>
        </div>
    </div>
    <!--END OF GAMES-->
 

    <!--START OF FOOTER-->
    <footer>
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-md-5 text-center">
                    <a href="index.html" class="navbar-brand"><img src="images/noodle logo white.png" alt="Logo"><strong>THE NOODLE BAR</strong> </a>
                    <p>Experience the great food - Experience Noodles</p>
                    <strong>Contact Info</strong>
                    <p>(+597) 444-5555 <br>thenoodlebar@outlook.com <br>Kristalstraat no.100</p>
                </div>

                <hr class="socket">
                &copy; 2022 - All rights reserved to The Noodle Bar.
            </div>
        </div>
    </footer>
    <!--END OF FOOTER-->

    <!--HANGMAN SCRIPTS-->
    <script>
        //Initial References
        const letterContainer = document.getElementById("letter-container");
        const optionsContainer = document.getElementById("options-container");
        const userInputSection = document.getElementById("user-input-section");
        const newGameContainer = document.getElementById("new-game-container");
        const newGameButton = document.getElementById("new-game-button");
        const canvas = document.getElementById("canvas");
        const resultText = document.getElementById("result-text");

        //Options values for buttons
        let options = {
        fruits: [
            "Apple",
            "Blueberry",
            "Mandarin",
            "Pineapple",
            "Pomegranate",
            "Watermelon",
        ],
        animals: [
            "Hedgehog", 
            "Rhinoceros", 
            "Squirrel", 
            "Panther", 
            "Walrus", 
            "Zebra",
        ],
        countries: [
            "India",
            "Hungary",
            "Kyrgyzstan",
            "Switzerland",
            "Zimbabwe",
            "Dominica",
        ],
    };

    //count
    let winCount = 0;
    let count = 0;

    let chosenWord = "";

    //Display option buttons
    const displayOptions = () => {
    optionsContainer.innerHTML += `<h3>Please Select An Option</h3>`;
    let buttonCon = document.createElement("div");
    for (let value in options) {
        buttonCon.innerHTML += `<button class="options" onclick="generateWord('${value}')">${value}</button>`;
    }
    optionsContainer.appendChild(buttonCon);
    };

    //Block all the Buttons
    const blocker = () => {
    let optionsButtons = document.querySelectorAll(".options");
    let letterButtons = document.querySelectorAll(".letters");
    //disable all options
    optionsButtons.forEach((button) => {
        button.disabled = true;
    });

    //disable all letters
    letterButtons.forEach((button) => {
        button.disabled.true;
    });
    newGameContainer.classList.remove("hide");
    };

    //Word Generator
    const generateWord = (optionValue) => {
    let optionsButtons = document.querySelectorAll(".options");
    //If optionValur matches the button innerText then highlight the button
    optionsButtons.forEach((button) => {
        if (button.innerText.toLowerCase() === optionValue) {
        button.classList.add("active");
        }
        button.disabled = true;
    });

    //initially hide letters, clear previous word
    letterContainer.classList.remove("hide");
    userInputSection.innerText = "";

    let optionArray = options[optionValue];
    //choose random word
    chosenWord = optionArray[Math.floor(Math.random() * optionArray.length)];
    chosenWord = chosenWord.toUpperCase();

    //replace every letter with span containing dash
    let displayItem = chosenWord.replace(/./g, '<span class="dashes">&nbsp_&nbsp</span>');

    //Display each element as span
    userInputSection.innerHTML = displayItem;
};

//Initial Function (Called when page loads/user presses new game)
const initializer = () => {
  winCount = 0;
  count = 0;

  //Initially erase all content and hide letteres and new game button
  userInputSection.innerHTML = "";
  optionsContainer.innerHTML = "";
  letterContainer.classList.add("hide");
  newGameContainer.classList.add("hide");
  letterContainer.innerHTML = "";

  //For creating letter buttons
  for (let i = 65; i < 91; i++) {
    let button = document.createElement("button");
    button.classList.add("letters");
    //Number to ASCII[A-Z]
    button.innerText = String.fromCharCode(i);
    //character button click
    button.addEventListener("click", () => {
      let charArray = chosenWord.split("");
      let dashes = document.getElementsByClassName("dashes");
      //if array contains clciked value replace the matched dash with letter else dram on canvas
      if (charArray.includes(button.innerText)) {
        charArray.forEach((char, index) => {
          //if character in array is same as clicked button
          if (char === button.innerText) {
            //replace dash with letter
            dashes[index].innerText = char;
            //increment counter
            winCount += 1;
            //if winCount equals word lenfth
            if (winCount == charArray.length) {
              resultText.innerHTML = `<h2 class='win-msg'>You Win!!</h2><p>The word was <span>${chosenWord}</span></p>`;
              //block all buttons
              blocker();
            }
          }
        });
      } else {
        //lose count
        count += 1;
        //for drawing man
        drawMan(count);
        //Count==6 because head,body,left arm, right arm,left leg,right leg
        if (count == 6) {
          resultText.innerHTML = `<h2 class='lose-msg'>You Lose!!</h2><p>The word was <span>${chosenWord}</span></p>`;
          blocker();
        }
      }
      //disable clicked button
      button.disabled = true;
    });
    letterContainer.append(button);
  }

  displayOptions();
  //Call to canvasCreator (for clearing previous canvas and creating initial canvas)
  let { initialDrawing } = canvasCreator();
  //initialDrawing would draw the frame
  initialDrawing();
};

//Canvas
const canvasCreator = () => {
  let context = canvas.getContext("2d");
  context.beginPath();
  context.strokeStyle = "#000";
  context.lineWidth = 2;

  //For drawing lines
  const drawLine = (fromX, fromY, toX, toY) => {
    context.moveTo(fromX, fromY);
    context.lineTo(toX, toY);
    context.stroke();
  };

  const head = () => {
    context.beginPath();
    context.arc(70, 30, 10, 0, Math.PI * 2, true);
    context.stroke();
  };

  const body = () => {
    drawLine(70, 40, 70, 80);
  };

  const leftArm = () => {
    drawLine(70, 50, 50, 70);
  };

  const rightArm = () => {
    drawLine(70, 50, 90, 70);
  };

  const leftLeg = () => {
    drawLine(70, 80, 50, 110);
  };

  const rightLeg = () => {
    drawLine(70, 80, 90, 110);
  };

  //initial frame
  const initialDrawing = () => {
    //clear canvas
    context.clearRect(0, 0, context.canvas.width, context.canvas.height);
    //bottom line
    drawLine(10, 130, 130, 130);
    //left line
    drawLine(10, 10, 10, 131);
    //top line
    drawLine(10, 10, 70, 10);
    //small top line
    drawLine(70, 10, 70, 20);
  };

  return { initialDrawing, head, body, leftArm, rightArm, leftLeg, rightLeg };
};

//draw the man
const drawMan = (count) => {
  let { head, body, leftArm, rightArm, leftLeg, rightLeg } = canvasCreator();
  switch (count) {
    case 1:
      head();
      break;
    case 2:
      body();
      break;
    case 3:
      leftArm();
      break;
    case 4:
      rightArm();
      break;
    case 5:
      leftLeg();
      break;
    case 6:
      rightLeg();
      break;
    default:
      break;
  }
};

//New Game
newGameButton.addEventListener("click", initializer);
window.onload = initializer;
    </script>
    
    <!--ANIMATE ON SCROLL SCRIPTS-->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>

    <!--JQUERY AND BOOTSTRAP BUNDLE (INCLUDES POPPER)-->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" 
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    
</body>
</html>